<view class="content">
  <!-- 用户基本信息 -->
  <view class="user-info-card">
    <view class="user-info-flex">
      <view class="user-info-left">
        <view class="user-avatar" bindtap="editAvatar">
          <image class="avatar" src="{{userInfo.avatarUrl || '/images/avatar.png'}}" mode="aspectFill"/>
        </view>
        <view class="user-name" bindtap="editNickname">
          <text class="nickname">{{userInfo.nickName}}</text>
          <text class="user-id">ID: {{userInfo._openid}}</text>
        </view>
      </view>
      <view class="user-info-right">
        <!-- 预留右侧空间，未来可添加其他内容 -->
      </view>
    </view>
  </view>
  
  <!-- 个人介绍 -->
  <view class="introduction-card">
    <view class="card-header">
      <text class="card-title">个人介绍</text>
      <text class="edit-btn" wx:if="{{editable}}" bindtap="editIntroduction">编辑</text>
    </view>
    <view class="intro-content" bindtap="{{editable ? 'editIntroduction' : ''}}">
      <text class="intro-text">{{userInfo.introduction || '这个用户很懒，还没有填写介绍~'}}</text>
    </view>
  </view>

  <!-- 联系方式 -->
  <view class="contact-card">
    <view class="card-header">
      <text class="card-title">联系方式</text>
    </view>
    <view class="contact-content">
      <view class="contact-item" bindtap="editContact" data-type="wechat">
        <text class="contact-label">微信号</text>
        <text class="contact-value">{{userInfo.wechat || '未设置'}}</text>
      </view>
      <view class="contact-item" bindtap="editContact" data-type="phone">
        <text class="contact-label">手机号</text>
        <text class="contact-value">{{userInfo.phone || '未设置'}}</text>
      </view>
    </view>
  </view>
  
  <!-- 媒体内容 -->
  <view class="media-card">
    <view class="card-header">
      <text class="card-title">相册</text>
    </view>
    
    <!-- 相册内容区域 -->
    <view class="media-content">
      <!-- 空相册时显示大的+号 -->
      <view class="big-upload-item" bindtap="uploadMedia" wx:if="{{!userInfo.mediaList || userInfo.mediaList.length === 0}}">
        <view class="plus-icon">+</view>
        <text class="upload-text">添加照片或视频</text>
      </view>
      
      <!-- 有照片时的布局 -->
      <view class="big-media-grid" wx:else>
        <view class="big-media-item" wx:for="{{userInfo.mediaList}}" wx:key="index" bindtap="previewMedia" data-index="{{index}}">
          <image class="media-image" src="{{item.type === 'image' ? item.fileID : item.thumbUrl || '/images/video-placeholder.png'}}" mode="aspectFill"></image>
          <view class="media-type-icon" wx:if="{{item.type === 'video'}}">
            <text class="video-icon">▶</text>
          </view>
          <view class="media-delete" wx:if="{{editable}}" catchtap="deleteMedia" data-index="{{index}}">
            <text class="delete-icon">×</text>
          </view>
        </view>
        
        <!-- 添加按钮放在最后 -->
        <view class="big-media-item big-upload-item" bindtap="uploadMedia" wx:if="{{editable}}">
          <view class="plus-icon">+</view>
          <text class="upload-text">添加照片或视频</text>
        </view>
      </view>
    </view>
  </view>
</view> 